(this.webpackJsonpbootcamperproject=this.webpackJsonpbootcamperproject||[]).push([[0],{110:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(25),r=a.n(s),i=(a(80),a(6)),o=a(14),l=a(13),d=a(133),j=a(134),b=a(119),u=a(116),m=a(117),h=a(118),O=a(62),x=(a(81),a(83),new O.a.auth.GoogleAuthProvider),f=O.a.initializeApp({apiKey:"AIzaSyCfB8GzGzKO7HY4BnGSAuiiP8AQRPhWnhQ",authDomain:"parkingapp-a3b26.firebaseapp.com",projectId:"parkingapp-a3b26",storageBucket:"parkingapp-a3b26.appspot.com",messagingSenderId:"335333417711",appId:"1:335333417711:web:82bb139bc981c94928311a"}),p=(a(58),a(1));var g=function(){var e=Object(l.g)(),t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)({}),o=Object(i.a)(r,2),O=o[0],x=o[1];return Object(c.useEffect)((function(){f.auth().onAuthStateChanged((function(e){e&&"admin@gmail.com"!==(null===e||void 0===e?void 0:e.email)&&s(e)})),f.database().ref("admin").child("locations").on("value",(function(e){x(e.val())}))}),[]),Object.keys(n).length?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"container mt-5",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsxs)("h2",{className:"text-center text-capitalize",children:[Object(p.jsx)(u.a,{onClick:function(){return e.goBack()},style:{fontWeight:"bold",cursor:"pointer"}}),"\xa0Locations\xa0",Object(p.jsx)(m.a,{onClick:function(){return e.goForward()},style:{fontWeight:"bold",cursor:"pointer"}})]})}),Object.keys(O).length>0?Object(p.jsx)(d.a,{children:Object(p.jsxs)(d.a.Body,{children:[Object(p.jsx)("p",{className:"text-center text-dark",children:"Select one of the following Locations for Parking"}),Object(p.jsx)(j.a,{variant:"flush",children:Object.keys(O).map((function(t){return Object(p.jsxs)(j.a.Item,{children:[Object(p.jsxs)("span",{children:[O[t].locationName,Object(p.jsx)("br",{})]}),Object(p.jsx)(h.a,{onClick:function(a){return e.push("/locations/".concat(O[t].locationName,"/").concat(O[t].slots))}})]},t)}))})]})}):Object(p.jsx)("div",{className:"text-center mx-auto",children:Object(p.jsx)(b.a,{animation:"border",size:"lg",variant:"primary"})})]})}):null},v=a(22),N=a.n(v),k=a(28),y=a(18),w=a(8),S=a(131),T=a(129),C=a(123),D=a(120),L=a(121),A=a(122),z=a(124),E=a(61),U=function(e){return e.toLowerCase().replace(/(^|\s)\S/g,(function(e){return e.toUpperCase()}))},I=function(){var e=Object(k.a)(N.a.mark((function e(t,a,c,n,s){var r,i,o,l,d;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(Object(w.a)(Object(w.a)({},c),{},{block:""})),r=t.code,i=t.message,s){e.next=8;break}console.log({errorCode:r,errorMessage:i}),"auth/user-not-found"===t.code?a(Object(w.a)(Object(w.a)({},c),{},{email:"User have not found or may Have deleted"})):"auth/wrong-password"===t.code?a(Object(w.a)(Object(w.a)({},c),{},{password:"Password is invalid"})):"auth/too-many-requests"===t.code?a(Object(w.a)(Object(w.a)({},c),{},{access:"Too many try, Now Access to this account has been disabled"})):"auth/network-request-failed"===t.code?a(Object(w.a)(Object(w.a)({},c),{},{connection:"Your Internet Connection has been disbaled"})):a(n),e.next=12;break;case 8:return e.next=10,f.auth().signOut();case 10:d=(null===(o=t.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||i,console.log({errorMsg:d});case 12:case"end":return e.stop()}}),e)})));return function(t,a,c,n,s){return e.apply(this,arguments)}}(),B=function(e){f.database().ref("clients/").child(e.key).remove().then((function(){return console.log("Remove succeeded."),!0})).catch((function(e){return console.log("Remove failed: "+e.message),!1}))},_=function(e,t,a,c){return f.database().ref("clients/").on("value",(function(c){Object.keys(c.val()).filter((function(n){if(c.val()[n].email===e&&c.val()[n].block)return t(Object(w.a)(Object(w.a)({},a),{},{block:"You have been Blocked"})),!0}))})),!1};a(38);function F(){var e=Object(l.g)(),t={email:"",password:""},a={email:"",password:"",access:"",block:"",connection:""},n=Object(c.useState)(t),s=Object(i.a)(n,2),r=s[0],j=s[1],u=Object(c.useState)(!0),m=Object(i.a)(u,2),h=m[0],O=m[1],g=Object(c.useState)(!1),v=Object(i.a)(g,2),E=v[0],B=v[1],F=Object(c.useState)(a),P=Object(i.a)(F,2),G=P[0],Y=P[1],M=r.email,H=r.password,W=function(e){var t=e.target,c=t.name,n=t.value;j(Object(w.a)(Object(w.a)({},r),{},Object(y.a)({},c,n))),Y(a)},R=function(){var a=Object(k.a)(N.a.mark((function a(){var c,n,s,r,i,o,l;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return j(t),a.prev=1,a.next=4,f.auth().signInWithPopup(x);case 4:if(c=a.sent,n=c.additionalUserInfo.isNewUser,s=c.user,r=s.displayName,i=s.email,o=s.uid,console.log("googleSignIn",c),!n){a.next=12;break}return l={username:U(r),email:i,key:o,bookings:{}},a.abrupt("return",f.database().ref("clients/").child(o).set(l,(function(e){return console.log("error",e)})));case 12:_(i,Y,G)?f.auth().signOut():(Y(Object(w.a)(Object(w.a)({},G),{},{block:""})),B(!0),j(t),Y(t),e.push("/dashboard"));case 14:B(!1),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(1),I(a.t0,Y,G,t,!0);case 20:case"end":return a.stop()}}),a,null,[[1,17]])})));return function(){return a.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container mt-5",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"Login"})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)(d.a,{className:"card_body col-lg-8 col-sm-12 col-md-10 col-11 mx-auto py-3",style:{width:"40rem"},children:[(null===G||void 0===G?void 0:G.access)||(null===G||void 0===G?void 0:G.connection)?Object(p.jsx)(S.a,{className:"",variant:"danger",children:G.access||(null===G||void 0===G?void 0:G.connection)}):null,Object(p.jsxs)(T.a,{className:"mb-3",onSubmit:function(c){c.preventDefault(),Y(a),_(r.email,Y,G)||(Y(Object(w.a)(Object(w.a)({},G),{},{block:""})),B(!0),f.auth().signInWithEmailAndPassword(M,H).then((function(a){"admin@gmail.com"===a.user.email?e.push("/adminDashboard"):e.push("/dashboard"),j(t),Y(t)})).catch((function(e){I(e,Y,G,t),B(!1)})))},children:[Object(p.jsxs)(T.a.Group,{className:"input-group",controlId:"formTitle",children:[Object(p.jsx)(T.a.Label,{className:"d-block w-100",children:"Email"}),Object(p.jsx)(T.a.Control,{className:G.email?"is-invalid":"",type:"email",placeholder:"Enter Email",name:"email",value:M,onChange:W}),Object(p.jsx)("div",{className:"input-group-text",children:Object(p.jsx)(D.a,{})}),Object(p.jsx)(T.a.Text,{className:"text-danger ml-1 w-100",children:G.email||G.block})]}),Object(p.jsxs)(T.a.Group,{className:"input-group",controlId:"formDescription",children:[Object(p.jsx)(T.a.Label,{className:"d-block w-100",children:"Password"}),Object(p.jsx)(T.a.Control,{className:G.password?"is-invalid":"",placeholder:"Password",type:h?"password":"text",name:"password",value:H,onChange:W}),Object(p.jsx)("div",{className:"input-group-text",children:h?Object(p.jsx)(L.a,{onClick:function(){return O(!1)}}):Object(p.jsx)(A.a,{onClick:function(){return O(!0)}})}),Object(p.jsx)(T.a.Text,{className:"text-danger w-100",children:G.password})]}),Object(p.jsx)(C.a,{className:"w-100",variant:"primary",type:"submit",disabled:!(r.email&&r.password&&!E),children:E?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),Object(p.jsx)("span",{className:"ml-2",children:"Loading..."})]}):"Submit"}),Object(p.jsxs)(C.a,{className:"w-100 mt-4",type:"submit",style:{fontWeight:"bold",background:"#e13719",borderColor:"#e13719"},onClick:R,children:[Object(p.jsx)(z.a,{color:"white",size:35,className:"p-2"}),"Sign in with Google"]})]}),Object(p.jsxs)("div",{className:"text-center mb-2 d-flex flex-column justify-content-center",children:[Object(p.jsx)("b",{children:"OR"}),Object(p.jsxs)("div",{children:[Object(p.jsx)(o.b,{to:"./signup",className:"mx-2",children:"Create Account"}),Object(p.jsx)("span",{children:"|"}),Object(p.jsx)(o.b,{to:"./forget",className:"mx-2",children:"Forget Password"})]})]})]})})]})}var P=a(125);function G(){var e=Object(l.g)(),t={username:"",email:"",password:""},a=Object(c.useState)(t),n=Object(i.a)(a,2),s=n[0],r=n[1],j=Object(c.useState)(!0),u=Object(i.a)(j,2),m=u[0],h=u[1],O=Object(c.useState)({email:"",password:"",username:""}),x=Object(i.a)(O,2),g=x[0],v=x[1],N=Object(c.useState)({}),k=Object(i.a)(N,2),S=(k[0],k[1]),z=Object(c.useState)(!1),E=Object(i.a)(z,2),I=E[0],B=E[1],_=s.email,F=s.password,G=s.username;Object(c.useEffect)((function(){return S(f.auth().currentUser),function(){return console.log("SignUp Component unmounted")}}),[]);var Y=function(e){var t=e.target,a=t.name,c=t.value;r(Object(w.a)(Object(w.a)({},s),{},Object(y.a)({},a,c))),v(Object(w.a)(Object(w.a)({},g),{},{email:"",password:""}))};return Object(p.jsxs)("div",{className:"container my-5",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"Sign Up"})}),Object(p.jsx)("div",{className:"row show",children:Object(p.jsxs)(d.a,{className:"card_body col-lg-8 col-sm-12 col-md-10 col-11 mx-auto ",style:{width:"40rem"},children:[Object(p.jsxs)(T.a,{className:"my-3",onSubmit:function(a){a.preventDefault(),B(!0),f.auth().createUserWithEmailAndPassword(_,F).then((function(a){var c=a.user,n={username:U(G),email:c.email,key:c.uid,bookings:{}};f.database().ref("clients/").child(c.uid).set(n,(function(e){e&&console.log("error",e)})),console.log("SignUp-User",n),r(t),v(t),e.push("/")})).catch((function(e){var t=e.code,a=e.message;console.log({errorCode:t,errorMessage:a}),"auth/email-already-in-use"===t?v(Object(w.a)(Object(w.a)({},g),{},{email:"The Email is already been in use"})):"auth/weak-password"===t&&v(Object(w.a)(Object(w.a)({},g),{},{password:"Password should be at least 6 characters"})),B(!1)}))},children:[Object(p.jsxs)(T.a.Group,{className:"input-group",controlId:"formUsername",children:[Object(p.jsx)(T.a.Label,{className:"d-block w-100",children:"Username"}),Object(p.jsx)(T.a.Control,{className:"text-secondary",type:"text",placeholder:"Enter Username",name:"username",value:G,onChange:Y}),Object(p.jsx)("div",{className:"input-group-text",children:Object(p.jsx)(P.a,{})}),Object(p.jsx)(T.a.Text,{className:"text-danger w-100",children:g.usernmae})]}),Object(p.jsxs)(T.a.Group,{className:"input-group",controlId:"formEmail",children:[Object(p.jsx)(T.a.Label,{className:"d-block w-100",children:"Email"}),Object(p.jsx)(T.a.Control,{className:"".concat(g.email?"is-invalid":""," text-secondary"),type:"email",placeholder:"Enter Email",name:"email",value:_,onChange:Y}),Object(p.jsx)("div",{className:"input-group-text",children:Object(p.jsx)(D.a,{})}),Object(p.jsx)(T.a.Text,{className:"text-danger w-100",children:g.email})]}),Object(p.jsxs)(T.a.Group,{className:"input-group",controlId:"formPassword",children:[Object(p.jsx)(T.a.Label,{className:"d-block w-100",children:"Password"}),Object(p.jsx)(T.a.Control,{className:"".concat(g.password?"is-invalid":""," text-secondary"),placeholder:"Password",type:m?"password":"text",name:"password",value:F,onChange:Y}),Object(p.jsx)("div",{className:"input-group-text",children:m?Object(p.jsx)(A.a,{onClick:function(){return h(!1)}}):Object(p.jsx)(L.a,{onClick:function(){return h(!0)}})}),Object(p.jsx)(T.a.Text,{className:"text-danger w-100",children:g.password})]}),Object(p.jsx)(C.a,{className:"w-100",variant:"primary",type:"submit",disabled:!(G&&_&&F&&!I),children:I?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),Object(p.jsx)("span",{className:"ml-2",children:"Loading..."})]}):"Submit"})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"text-center mb-4 d-flex justify-content-center",children:[Object(p.jsx)("b",{children:"OR"}),Object(p.jsx)(o.b,{to:"/",className:"mx-2 font-weight-bold",children:"Login"})]})]})})]})}function Y(){var e=Object(l.g)(),t={email:""},a=Object(c.useState)(t),n=Object(i.a)(a,2),s=n[0],r=n[1],o=Object(c.useState)(!1),j=Object(i.a)(o,2),b=(j[0],j[1],s.email);Object(c.useEffect)((function(){console.log("Forget Password")}),[]);return Object(p.jsxs)("div",{className:"container mt-5",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"Forget Password"})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)(d.a,{className:"card_body col-lg-8 col-sm-12 col-md-10 col-11 mx-auto",style:{width:"40rem"},children:Object(p.jsxs)(T.a,{className:"my-3",onSubmit:function(a){a.preventDefault(),console.log("state",s),f.auth().sendPasswordResetEmail(b).then((function(){window.alert("Email has been sent to you please check it!!"),r(t)})).catch((function(t){var a=t.code,c=t.message;console.log(a),console.log(c),window.alert("Message",c),e.push("/")}))},children:[Object(p.jsxs)(T.a.Group,{className:"input-group",controlId:"formTitle",children:[Object(p.jsx)(T.a.Label,{className:"d-block w-100",children:"Email"}),Object(p.jsx)("div",{className:"input-group-text",children:Object(p.jsx)(D.a,{})}),Object(p.jsx)(T.a.Control,{type:"email",placeholder:"Enter Email",name:"email",value:b,onChange:function(e){var t=e.target,a=t.name,c=t.value;r(Object(w.a)(Object(w.a)({},s),{},Object(y.a)({},a,c)))}})]}),Object(p.jsx)(C.a,{className:"w-100",variant:"primary",type:"submit",disabled:!s.email,children:"Submit"})]})})})]})}var M=a(127),H=a(126),W=a(12),R=a.n(W);var J=function(e){var t=e.passData,a=Object(c.useState)([]),n=Object(i.a)(a,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){return r(t),function(){return console.log("ShowSlotsTiming Unmounted")}}),[t]),Object(p.jsx)("div",{className:"showslotsTiming",children:Object(p.jsxs)(H.a,{className:"showBookings card_body rounded-4 text-center my-3",size:"sm",responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{className:"align-content-center thead-dark",children:Object(p.jsxs)("tr",{className:"text-capitalize",children:[Object(p.jsx)("th",{children:"slot no"}),Object(p.jsx)("th",{children:"Start Date"}),Object(p.jsx)("th",{children:"Start Time"}),Object(p.jsx)("th",{children:"End Date"}),Object(p.jsx)("th",{children:"End Time"}),Object(p.jsx)("th",{children:"Time Duration"})]})}),Object(p.jsx)("tbody",{className:"bg-light",children:s.length>0?s.map((function(e,t){var a,c=R()(e.userDate+" "+e.startTime),n=R()(e.endDate+" "+e.endTime),s=((a=e.timeDuration)[0]>0?"".concat(a[0]," Day "):"")+(a[1]>0?"".concat(a[1]," Hour "):"")+(a[2]>0?"".concat(a[2]," Mins "):"");return Object(p.jsxs)("tr",{className:"text-capitalize",children:[Object(p.jsx)("td",{children:e.slots}),Object(p.jsx)("td",{className:"date",children:e.userDate}),Object(p.jsx)("td",{className:"time",children:c.format("h:mm a")}),Object(p.jsx)("td",{className:"date",children:e.endDate}),Object(p.jsx)("td",{className:"time",children:n.format("h:mm a")}),Object(p.jsx)("td",{children:s})]},e.bookingId)})):Object(p.jsx)("tr",{children:Object(p.jsx)("td",{className:"no_data py-3",colSpan:"6",children:"No Reserved Slsots"})})})]})})},K=a(71);var q=Object(l.i)((function(e){var t=Object(l.h)(),a=t.address,n=t.totalSlots,s=(Object(l.g)(),Object(K.extendMoment)(R.a)),r={username:"",location:a,userDate:"",endDate:"",startTime:"",endTime:"",slots:void 0},o={isAfter:"",conflicit:"",timeLimit:""},j=Object(c.useState)(r),b=Object(i.a)(j,2),u=b[0],m=b[1],h=Object(c.useState)(""),O=Object(i.a)(h,2),x=O[0],g=O[1],v=Object(c.useState)([]),N=Object(i.a)(v,2),k=N[0],S=N[1],D=Object(c.useState)([]),L=Object(i.a)(D,2),A=L[0],z=L[1],E=Object(c.useState)(!1),U=Object(i.a)(E,2),I=U[0],B=U[1],_=Object(c.useState)(!1),F=Object(i.a)(_,2),P=F[0],G=F[1],Y=Object(c.useState)(!1),H=Object(i.a)(Y,2),W=H[0],q=H[1],Q=Object(c.useState)([]),V=Object(i.a)(Q,2),X=V[0],Z=V[1],$=Object(c.useState)(!1),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ce=Object(c.useState)(o),ne=Object(i.a)(ce,2),se=ne[0],re=ne[1],ie=u.location,oe=u.userDate,le=u.endDate,de=u.startTime,je=u.endTime,be=Object(c.useState)({}),ue=Object(i.a)(be,2),me=ue[0],he=ue[1];Object(c.useEffect)((function(){return f.auth().onAuthStateChanged((function(e){null!==e&&"admin@gmail.com"!==(null===e||void 0===e?void 0:e.email)&&he(e)})),f.database().ref("clients/").on("value",(function(e){var t=[];Object.keys(e.val()).map((function(a){var c;if(e.val()[a].hasOwnProperty("bookings"))return Object.keys(null===(c=e.val()[a])||void 0===c?void 0:c.bookings).map((function(c){var n;return t.push(null===(n=e.val()[a])||void 0===n?void 0:n.bookings[c])}))})),S(t)})),z(Array(parseInt(n)).fill(1).map((function(e,t){return e+t}))),function(){return console.log("newbOOKING unmounted")}}),[]);var Oe=function(){var e=R.a.utc(R()(oe+" "+je).diff(R()(oe+" "+de))).format("H"),t=R.a.utc(R()(oe+" "+je).diff(R()(oe+" "+de))).format("mm");return R()(oe+" "+de).add(e,"hours").add(t,"minutes")},xe=function(){var e=R.a.utc(R()(le+" "+je).diff(R()(oe+" "+de),"hours"))._i,t=R.a.utc(R()(le+" "+je).diff(R()(oe+" "+de),"days"))._i;return[t,R.a.utc(R()(le+" "+je).diff(R()(oe+" "+de),"hours"))._i-24*t,R.a.utc(R()(le+" "+je).diff(R()(oe+" "+de),"minutes"))._i-60*e]},fe=function(e){var t=e.target,a=t.name,c=t.value;m(Object(w.a)(Object(w.a)({},u),{},Object(y.a)({},a,c))),B(!1),q(!1),g(""),Z([]),re(o)};return Object.keys(me).length?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"container my-3",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"Parking Booking"})}),Object(p.jsx)("div",{className:"row show",children:Object(p.jsx)(d.a,{className:"card_body col-lg-8 col-sm-12 col-md-10 col-11 mx-auto ",style:{width:"40rem"},children:Object(p.jsxs)(T.a,{className:"my-3",onSubmit:function(e){e.preventDefault();var t=f.auth().currentUser.uid;q(!1);var a=f.database().ref("clients/".concat(t,"/")).child("bookings").push().key,c={bookingId:a,slots:x,timeDuration:xe(),uid:t,location:ie,userDate:oe,startTime:de,endDate:le,endTime:je};console.log("bookingObj",c),f.database().ref("clients/".concat(t,"/")).child("bookings").child(a).set(c,(function(e){e?console.log("error",e):(ae(!0),setTimeout((function(){ae(!1)}),5e3),m(r),g(""),B(!1),G(!1))}))},children:[Object(p.jsxs)(M.a,{children:[Object(p.jsxs)(T.a.Group,{className:"col-md-6 col-12",controlId:"exampleForm.dateTime1",children:[Object(p.jsx)(T.a.Label,{children:"Start Date"}),Object(p.jsx)(T.a.Control,{type:"date",min:R()().format("YYYY-MM-DD"),name:"userDate",value:oe,onChange:fe})]}),Object(p.jsxs)(T.a.Group,{className:"col-md-6 col-12",controlId:"exampleForm.dateTime2",children:[Object(p.jsx)(T.a.Label,{children:"Start Time"}),Object(p.jsx)(T.a.Control,{type:"time",name:"startTime",value:de,min:oe==R()().format("YYYY-MM-DD")?R()().format("H:mm"):"",disabled:!oe,onChange:fe})]})]}),Object(p.jsxs)(M.a,{children:[Object(p.jsxs)(T.a.Group,{className:"col-md-6 col-12",controlId:"exampleForm.dateTime3",children:[Object(p.jsx)(T.a.Label,{children:"End Date"}),Object(p.jsx)(T.a.Control,{type:"date",name:"endDate",value:le,min:R()(oe).format("YYYY-MM-DD"),onChange:fe})]}),Object(p.jsxs)(T.a.Group,{className:"col-md-6 col-12",controlId:"exampleForm.dateTime4",children:[Object(p.jsx)(T.a.Label,{children:"End Time (For)"}),Object(p.jsx)(T.a.Control,{type:"time",name:"endTime",value:je,onChange:fe}),se.isAfter||se.timeLimit?Object(p.jsx)("small",{className:"text-danger",children:se.isAfter||se.timeLimit}):null,te?Object(p.jsx)("small",{className:"text-success font-weight-bold",children:"Booking added Successfully"}):null]})]}),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(M.a,{className:"d-flex justify-content-around",children:W?Object(p.jsx)(C.a,{className:"col-12",variant:"primary",type:"submit",disabled:!(ie&&le&&oe&&de&&je&&x),children:"Book Slot"}):Object(p.jsx)(C.a,{type:"button",className:"col-12 mb-2 mb-md-0 mb-lg-0",variant:"outline-primary",color:"primary",onClick:function(e){!function(){console.log(u);var e=R.a.utc(R()(oe+" "+je).diff(R()(oe+" "+de))).format("H:mm");console.log("totalTime",Oe()),console.log("TotalTimeArr",xe());var t=oe!=le||R()(oe+" "+e).isAfter(oe+" 00:10"),a=oe==le&&Oe().isAfter(oe+" 23:59");if(a)re(Object(w.a)(Object(w.a)({},se),{},{isAfter:"End Time can not be grater than start Time"})),console.log("isafter",a,se.isAfter);else if(t){B(!0),q(!0);var c=function(){return k.filter((function(e,t){if(e.location==ie){var a=[R()(oe+" "+de),R()(le+" "+je)],c=[R()(e.userDate+" "+e.startTime),R()(e.endDate+" "+e.endTime)],n=s.range(a),r=s.range(c);if(n.overlaps(r))return console.log("overlaps completely"),!r.contains(n,!0)&&!n.contains(r,!0)||a[0].isSame(c[0])?(console.log("overlaps partially"),re(Object(w.a)(Object(w.a)({},se),{},{conflicit:"Some Slots are missing bcz Your Time range partially conflict at it"})),!0):(re(Object(w.a)(Object(w.a)({},se),{},{conflicit:"Some Slots are missing bcz Your Time range completely conflict at it"})),!0)}}))};if(console.log("date()",c()),Z(c()),c().length>0){var r=Array(parseInt(n)).fill(1).map((function(e,t){return e+t})),i=[];c().map((function(e){return i.push(parseInt(e.slots))})),console.log("toremove IF",i),r=r.filter((function(e){return!i.includes(e)})),console.log("nofslots IF",r),z(r)}else console.log("noOfSlots Else",A),z(Array(parseInt(n)).fill(1).map((function(e,t){return e+t})))}else re(Object(w.a)(Object(w.a)({},se),{},{timeLimit:"Time duration must be greater than 10 Minutes"})),console.log("timeLimit",t,se.timeLimit)}(),G(!1)},disabled:!(oe&&le&&de&&je),children:"Show Slots"})})})]})})}),Object(p.jsx)("div",{className:"row my-3 slots_Card",children:Object(p.jsxs)(d.a,{className:"container-fluid card_body bottom_card col-lg-11 col-sm-12 col-md-11 col-11 mx-auto p-3",children:[Object(p.jsx)("div",{className:"slots_nav",children:oe&&Object(p.jsxs)("small",{className:"text-info text-center",children:["To see ",P?"Available":"Unavailable"," Slots  ",Object(p.jsx)("span",{style:{cursor:"pointer",color:"red"},onClick:function(e){return G(!P)},children:"\xa0 Click Here"})]})}),P?Object(p.jsx)(J,{passData:X}):I?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"text-center text-info mt-2 select",children:"Select any one of the folllowing Available Slots"}),Object(p.jsxs)(M.a,{className:"text-center",children:[A.map((function(e){return Object(p.jsx)(C.a,{className:"".concat(x===e?"buttonActive":""," "),variant:"warning",onClick:function(){return g(e)},children:e},e)})),Object(p.jsxs)("p",{className:"w-100 d-block mt-2",style:{color:"white"},children:[se.conflicit," "]})]})]}):Object(p.jsx)("p",{className:"text-center my-auto",style:{color:"white"},children:"Press (Show Slots) Button After filling all fields To see available Slots"})]})})]})}):null})),Q=a(70);var V=Object(l.i)((function(){var e=Object(l.g)(),t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){return f.auth().onAuthStateChanged((function(e){e?f.database().ref("clients/").child(e.uid).on("value",(function(e){s(e.val())})):s({})})),function(){return console.log("Dashboard Unmounted")}}),[f.auth().currentUser]),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"Dashboard"})}),Object.keys(n).length>0?Object(p.jsx)("div",{className:"row",children:Object(p.jsx)(d.a,{className:"card_body col-lg-8 col-sm-9 col-md-10 col-11 mx-auto mt-4",style:{width:"40rem"},children:Object(p.jsxs)(d.a.Body,{children:[Object(p.jsxs)(d.a.Title,{className:"text-center text-capitalize font-italic text-info",style:{fontSize:25},children:["Welcome Dear ! ",n?null===n||void 0===n?void 0:n.username:"User"]}),Object(p.jsx)(M.a,{className:"mt-3",children:Object(p.jsxs)(Q.a,{className:"text-center",children:[Object(p.jsx)(C.a,{className:"rounded-5 px-4 py-2 mb-0 mb-2 mb-md-0 mb-lg-0",variant:"success",onClick:function(){return e.push("/locations")},children:"Show Locations"}),Object(p.jsx)(C.a,{className:"rounded-5 mx-3 px-4 py-2",variant:"success",onClick:function(){return e.push("/showBookings")},children:"Show Bookings"})]})})]})})}):Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)(b.a,{size:"lg",animation:"border",variant:"info"})})]})})}));var X=Object(l.i)((function(){var e=Object(l.g)(),t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)({}),o=Object(i.a)(r,2),d=o[0],j=o[1];return Object(c.useEffect)((function(){(function(){var e=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.auth().onAuthStateChanged((function(e){null!==e&&"admin@gmail.com"!==(null===e||void 0===e?void 0:e.email)&&f.database().ref("clients/").child(null===e||void 0===e?void 0:e.uid).on("value",(function(e){var t,a;(j(e.val()),null===(t=e.val())||void 0===t?void 0:t.bookings)&&s(null===(a=e.val())||void 0===a?void 0:a.bookings)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object.keys(d).length?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"container my-5",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsxs)("h2",{className:"text-center text-capitalize",children:[Object(p.jsx)(u.a,{onClick:function(){return e.goBack()},style:{fontWeight:"bold",cursor:"pointer"}}),"\xa0Your Bookings\xa0",Object(p.jsx)(m.a,{onClick:function(){return e.goForward()},style:{fontWeight:"bold",cursor:"pointer"}})]})}),Object(p.jsx)("div",{className:"row",children:0===Object.keys(n).length?Object(p.jsx)("div",{className:"text-center mx-auto",children:Object(p.jsx)("h2",{className:"no_bookings",children:"No Bookings Yet"})}):Object(p.jsxs)(H.a,{className:"showBookings card_body rounded-4 text-center",responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{className:"align-content-center thead-dark",children:Object(p.jsxs)("tr",{className:"text-capitalize",children:[Object(p.jsx)("th",{children:"#"}),Object(p.jsx)("th",{children:"location"}),Object(p.jsx)("th",{children:"slot no"}),Object(p.jsx)("th",{children:"Start Date"}),Object(p.jsx)("th",{children:"Start Time"}),Object(p.jsx)("th",{children:"End Date"}),Object(p.jsx)("th",{children:"End Time"}),Object(p.jsx)("th",{children:"Time Duration"})]})}),Object(p.jsx)("tbody",{className:"bg-light",children:Object.keys(n).map((function(e,t){var a,c=R()(n[e].userDate+" "+n[e].startTime),s=R()(n[e].endDate+" "+n[e].endTime),r=((a=n[e].timeDuration)[0]>0?"".concat(a[0]," Day "):"")+(a[1]>0?"".concat(a[1]," Hour "):"")+(a[2]>0?"".concat(a[2]," Mins "):"");return Object(p.jsxs)("tr",{className:"text-capitalize",children:[Object(p.jsx)("td",{children:t+1}),Object(p.jsx)("td",{children:n[e].location}),Object(p.jsx)("td",{children:n[e].slots}),Object(p.jsx)("td",{className:"date",children:n[e].userDate}),Object(p.jsx)("td",{className:"time",children:c.format("h:mm a")}),Object(p.jsx)("td",{className:"date",children:n[e].endDate}),Object(p.jsx)("td",{className:"time",children:s.format("h:mm a")}),Object(p.jsx)("td",{children:r})]},e)}))})]})})]})}):null}));function Z(){var e=Object(l.g)(),t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){f.auth().onAuthStateChanged((function(e){e&&f.database().ref("clients/").child(e.uid).on("value",(function(e){s(e.val())}))}))}),[]),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"Dashboard"})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)(d.a,{className:"card_body col-lg-8 col-sm-9 col-md-10 col-11 mx-auto mt-4",style:{width:"40rem"},children:Object(p.jsxs)(d.a.Body,{children:[Object(p.jsxs)(d.a.Title,{className:"text-center text-capitalize font-italic text-info",style:{fontSize:25},children:["Welcome Dear ! ",null===n||void 0===n?void 0:n.username]}),Object(p.jsx)(M.a,{className:"mt-3",children:Object(p.jsxs)(Q.a,{className:"text-center",children:[Object(p.jsx)(C.a,{className:" rounded-5 px-4 py-2 mb-0 mb-2 mb-md-0 mb-lg-0",variant:"success",onClick:function(){return e.push("./allusers")},children:"All Users"}),Object(p.jsx)(C.a,{className:"rounded-5 mx-3 px-4 py-2",variant:"success",onClick:function(){return e.push("./allbookings")},children:"All Bookings"})]})})]})})})]})})}var $=function(e){var t=e.onClick,a=e.size,c=e.variant,n=e.title;return Object(p.jsx)(C.a,{className:"m-1",size:a,variant:c,onClick:t,children:n})},ee=a(52),te=a.n(ee),ae=a(33);var ce=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({}),r=Object(i.a)(s,2),o=r[0],l=r[1];Object(c.useEffect)((function(){return f.auth().onAuthStateChanged((function(e){e&&f.database().ref("clients/").on("value",(function(e){if(e.val()){var t=Object.keys(e.val()).filter((function(t){return"admin"!==e.val()[t].username})).map((function(t){return e.val()[t]}));n(t)}}))})),function(){return!1}}),[]);var d=function(){var e=Object(k.a)(N.a.mark((function e(t){var a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,fetch("http://localhost:5000/users/delete/".concat(t.key),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,console.log(c),(null===c||void 0===c?void 0:c.success)&&(B(t),ae.b.success("\ud83e\udd84 User Deleted",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})),ae.b.error(null===c||void 0===c?void 0:c.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),l({}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),l({}),console.log({err:e.t0});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container my-5",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"All Users"})}),Object(p.jsx)("div",{className:"row",children:0===Object.keys(a).length?Object(p.jsx)("div",{className:"text-center mx-auto",children:Object(p.jsx)("h2",{className:"no_bookings",children:"No Users Yet"})}):Object(p.jsxs)(H.a,{className:"allUsers card_body text-center",responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{className:"align-content-center thead-dark",children:Object(p.jsxs)("tr",{className:"text-capitalize",children:[Object(p.jsx)("th",{children:"username"}),Object(p.jsx)("th",{children:"email"}),Object(p.jsx)("th",{children:"Actions"})]})}),Object(p.jsx)("tbody",{className:"bg-light",children:a.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"text-capitalize",children:e.username}),Object(p.jsx)("td",{children:e.email}),Object(p.jsxs)("td",{className:"d-flex justify-content-around flex-wrap",children:[Object(p.jsx)($,{size:"sm",variant:"danger",title:e.block?"Unblock":"Block",onClick:function(t){return function(e,t){f.database().ref("clients/").child(e.key).update({block:!t},(function(e){e&&console.log("error",e)}))}(e,e.block)}}),Object(p.jsx)($,{size:"sm",variant:"danger",title:"Delete",onClick:function(t){return l(e)}})]})]},e.key)}))})]})}),!!Object.keys(o).length&&Object(p.jsx)(te.a,{warning:!0,showCancel:!0,confirmBtnText:"Delete it!",confirmBtnBsStyle:"danger",onConfirm:function(){d(o)},onCancel:function(){return l({}),console.log("admin didn't delete user")},allowEscape:!1,children:"Do you wanna Delete User?"}),Object(p.jsx)(ae.a,{})]})},ne=a(37),se=a(128);a(59);var re=function(){var e=Object(c.useState)({sort:"",address:""}),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(c.useState)([]),j=Object(i.a)(d,2),u=j[0],m=j[1],h=Object(c.useState)(!1),O=Object(i.a)(h,2),x=O[0],g=O[1],v=Object(c.useState)([]),N=Object(i.a)(v,2),k=N[0],S=N[1],D=a.sort,L=a.address;Object(c.useEffect)((function(){return f.auth().onAuthStateChanged((function(e){if(!e)return!1;f.database().ref("clients/").on("value",(function(e){var t=[];Object.keys(e.val()).map((function(a){var c;if(!0===e.val()[a].hasOwnProperty("bookings"))return Object.keys(null===(c=e.val()[a])||void 0===c?void 0:c.bookings).map((function(c){var n;return t.push(null===(n=e.val()[a])||void 0===n?void 0:n.bookings[c])}))})),m(t),l(t);var a=t.map((function(e){return e.location})).filter((function(e,t,a){return a.indexOf(e)===t}));S(a)}))})),function(){return!1}}),[]);var A=function(){if("datetime"===D)!function(){var e=Object(ne.a)(u);e=(e=e.sort((function(e,t){return new Date(t.userDate).getTime()-new Date(e.userDate).getTime()}))).sort((function(e,t){return new Date(e.userDate).getTime()!==new Date(t.userDate).getTime()?0:Number(t.startTime.split(":")[0])<Number(e.startTime.split(":")[0])?1:Number(t.startTime.split(":")[0])!==Number(e.startTime.split(":")[0])?-1:Number(t.startTime.split(":")[1])<Number(e.startTime.split(":")[1])?1:void 0})),m(e)}();else if("date"===D){var e=Object(ne.a)(u);e=e.sort((function(e,t){return new Date(t.userDate).getTime()-new Date(e.userDate).getTime()})),m(e)}else if("slot"===D){var t=Object(ne.a)(u);t.sort((function(e,t){return e.slots-t.slots})),m(t)}else m(o)},z=function(e){var t=e.target,c=t.name,s=t.value;n(Object(w.a)(Object(w.a)({},a),{},Object(y.a)({},c,s)))};return Object(p.jsxs)("div",{className:"container my-5",children:[Object(p.jsxs)("div",{className:"users_heading",children:[Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"All Users Bookings"}),Object(p.jsxs)("p",{children:[x?"to hide Filters":"to See Filters"," ",Object(p.jsx)("span",{onClick:function(e){return g(!x)},children:"click here"})]})]}),Object(p.jsx)("div",{className:"row",children:0===u.length?Object(p.jsx)("div",{className:"text-center mx-auto",children:Object(p.jsx)(b.a,{animation:"border",size:"lg",variant:"primary"})}):Object(p.jsxs)("div",{className:"col-lg-12 col-12 allBookings",children:[x?Object(p.jsx)(se.a,{className:"contrainer1",children:Object(p.jsxs)(T.a,{className:"row",onSubmit:function(e){e.preventDefault(),A()},children:[Object(p.jsx)(T.a.Group,{className:"text-capitalize col-md-3 ",controlId:"exampleForm.ControlSelect1",children:Object(p.jsxs)(T.a.Control,{as:"select",name:"address",value:L,onChange:function(e){return z(e)},children:[Object(p.jsx)("option",{value:"",children:"Select Location"}),Object(p.jsx)("option",{value:"all",children:"All Locations"}),k.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)}))]})}),Object(p.jsx)(T.a.Group,{className:"col-md-3",children:Object(p.jsx)(C.a,{className:"w-100",variant:"primary",disabled:!L,onClick:function(){return function(){if(L)if("all"==L){var e=Object(ne.a)(o);m(e)}else{var t=Object(ne.a)(o);t=(t=(t=t.sort((function(e,t){return new Date(t.userDate).getTime()-new Date(e.userDate).getTime()}))).sort((function(e,t){return new Date(e.userDate).getTime()===new Date(t.userDate).getTime()?Number(t.startTime.split(":")[0])<Number(e.startTime.split(":")[0])?1:-1:0}))).filter((function(e){return e.location==L})),m(t)}else m(o)}()},children:"Filter"})}),Object(p.jsx)(T.a.Group,{className:"text-capitalize col-md-3 ",controlId:"exampleForm.ControlSelect1",children:Object(p.jsxs)(T.a.Control,{as:"select",name:"sort",value:D,onChange:function(e){return z(e)},children:[Object(p.jsx)("option",{value:"",children:"Select Sort"}),Object(p.jsx)("option",{value:"date",children:"by Date"}),Object(p.jsx)("option",{value:"datetime",children:"by Date Time"}),Object(p.jsx)("option",{value:"slot",children:"by slot"})]})}),Object(p.jsx)(T.a.Group,{className:"col-md-3",children:Object(p.jsx)(C.a,{className:"w-100",variant:"primary",type:"submit",children:"Sort"})})]})}):null,Object(p.jsx)("div",{className:"tableDiv",children:Object(p.jsxs)(H.a,{className:"allBookings text-capitalize card_body rounded-4 text-center",responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{className:"align-content-center thead-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"#"}),Object(p.jsx)("th",{children:"location"}),Object(p.jsx)("th",{children:"slot no"}),Object(p.jsx)("th",{children:"Start Date"}),Object(p.jsx)("th",{children:"Start Time"}),Object(p.jsx)("th",{children:"End Date"}),Object(p.jsx)("th",{children:"End Time"}),Object(p.jsx)("th",{children:"Time Duration"})]})}),Object(p.jsx)("tbody",{className:"bg-light",children:u.map((function(e,t){var a,c=R()(e.userDate+" "+e.startTime),n=R()(e.endDate+" "+e.endTime),s=((a=e.timeDuration)[0]>0?"".concat(a[0]," Day "):"")+(a[1]>0?"".concat(a[1]," Hour "):"")+(a[2]>0?"".concat(a[2]," Mins "):"");return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t+1}),Object(p.jsx)("td",{children:e.location}),Object(p.jsx)("td",{children:e.slots}),Object(p.jsx)("td",{className:"date",children:e.userDate}),Object(p.jsx)("td",{className:"time",children:c.format("h:mm a")}),Object(p.jsx)("td",{className:"date",children:e.endDate}),Object(p.jsx)("td",{className:"time",children:n.format("h:mm a")}),Object(p.jsx)("td",{className:"duration",children:s})]},e.bookingId)}))})]})})]})})]})};var ie=function(){var e={locationName:"",address:"",slots:0},t={locationName:"",address:""},a=Object(c.useState)(e),n=Object(i.a)(a,2),s=n[0],r=n[1],l=Object(c.useState)(!1),j=Object(i.a)(l,2),b=j[0],u=j[1],m=Object(c.useState)({}),h=Object(i.a)(m,2),O=h[0],x=h[1],g=Object(c.useState)(t),v=Object(i.a)(g,2),N=v[0],k=v[1];Object(c.useEffect)((function(){return f.database().ref("admin").child("locations").on("value",(function(e){x(e.val())})),function(){return!1}}),[]);var D=s.locationName,L=(s.address,s.slots),A=function(e){var a=e.target,c=a.name,n=a.value;r(Object(w.a)(Object(w.a)({},s),{},Object(y.a)({},c,n))),k(t)},z=function(e){return e.toLowerCase().replace(/(^|\s)\S/g,(function(e){return e.toUpperCase()}))};return Object(p.jsxs)("div",{className:"container mt-5",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"Add Locations"})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)(d.a,{className:"card_body col-lg-8 col-sm-12 col-md-10 col-11 mx-auto py-3",style:{width:"40rem"},children:[b?Object(p.jsx)(S.a,{className:"",variant:"success",children:"Location added Successfully"}):null,Object(p.jsxs)(T.a,{className:"mb-3",onSubmit:function(t){t.preventDefault();var a=Object.keys(O).find((function(e){return O[e].locationName===z(D)}));if(Object.keys(null!==a&&void 0!==a?a:[]).length)console.log({checkLocation:a}),k(Object(w.a)(Object(w.a)({},N),{},{locationName:"This Location is Already Exists"}));else{var c=f.database().ref("admin/").child("locations").push().key,n={locationId:c,locationName:z(D),slots:L};f.database().ref("admin/").child("locations").child(c).set(n,(function(t){t?console.log("Location Error",t):(u(!0),setTimeout((function(){u(!1)}),4e3),console.log("state",n),r(e))}))}},children:[Object(p.jsxs)(T.a.Group,{controlId:"formTitle",children:[Object(p.jsx)(T.a.Label,{className:"ml-1",children:"Location"}),Object(p.jsx)(T.a.Control,{className:"",type:"text",placeholder:"Enter Location Name",name:"locationName",value:D,onChange:A}),Object(p.jsx)(T.a.Text,{className:"text-danger ml-1",children:N.locationName})]}),Object(p.jsxs)(T.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(p.jsx)(T.a.Label,{children:"No of Slots"}),Object(p.jsxs)(T.a.Control,{as:"select",name:"slots",value:L,onChange:A,children:[Object(p.jsx)("option",{value:"",children:"Select SLots"}),Array(10).fill(1).map((function(e,t){return e+t})).map((function(e){return Object(p.jsx)("option",{value:"".concat(e),children:e},e)}))]})]}),Object(p.jsx)(C.a,{className:"w-100",variant:"primary",type:"submit",disabled:!(D&&L),children:"Submit"})]}),Object(p.jsxs)("div",{className:"text-center mb-2 d-flex flex-column justify-content-center",children:[Object(p.jsx)("b",{children:"OR"}),Object(p.jsx)("div",{children:Object(p.jsx)(o.b,{to:"/viewLocations",className:"mx-2",children:"View Locations"})})]})]})})]})};var oe=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){return f.database().ref("admin").child("locations").on("value",(function(e){n(e.val())})),function(){return console.log("")}}),[]),Object(p.jsxs)("div",{className:"container my-5",children:[Object(p.jsx)("div",{className:"users_heading",children:Object(p.jsx)("h2",{className:"text-center text-capitalize",children:"All Locations"})}),Object(p.jsx)("div",{className:"row",children:0===Object.keys(a).length?Object(p.jsx)("div",{className:"text-center mx-auto",children:Object(p.jsx)(b.a,{animation:"border",size:"lg",variant:"primary"})}):Object(p.jsx)("div",{className:"col-lg-12 col-12 allBookings",children:Object(p.jsxs)(H.a,{size:window.innerWidth<500?"sm":"md",className:"text-capitalize card_body rounded-4 text-center",responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{className:"align-content-center thead-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"#"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Total Slots"})]})}),Object(p.jsx)("tbody",{className:"bg-light",children:Object.keys(a).map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t+1}),Object(p.jsx)("td",{children:a[e].locationName}),Object(p.jsx)("td",{children:a[e].slots})]},a[e].locationId)}))})]})})})]})},le=a(132),de=a(130),je=a.p+"static/media/parking.b54aa71b.png";function be(){var e=Object(l.g)(),t=Object(c.useState)({}),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)({}),o=Object(i.a)(r,2),d=o[0],j=o[1];Object(c.useEffect)((function(){return f.auth().onAuthStateChanged((function(e){e?"admin@gmail.com"===(null===e||void 0===e?void 0:e.email)?j(e):s(e):(j({}),s({}))})),function(){return console.log("")}}),[]);var b=Object.keys(d).length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(le.a.Link,{onClick:function(){return e.push("/allusers")},children:"All Users"}),Object(p.jsx)(le.a.Link,{onClick:function(){return e.push("/allbookings")},children:"All Bookings"}),Object(p.jsx)(le.a.Link,{onClick:function(){return e.push("/addLocations")},children:"Add Locations"}),Object(p.jsx)(le.a.Link,{onClick:function(){return e.push("/viewLocations")},children:"View Loations"})]}):null,u=Object.keys(n).length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(le.a.Link,{onClick:function(){return e.push("/locations")},children:"Locations"}),Object(p.jsx)(le.a.Link,{onClick:function(){return e.push("/showbookings")},children:"My Bookings"})]}):null,m=Object.keys(d).length?"/admindashboard":"/dashboard",h=Object(p.jsx)(de.a.Brand,{style:{cursor:"pointer"},onClick:function(){return e.push(f.auth().currentUser?m:"/")},children:Object(p.jsx)("img",{src:je,className:"logo"})});return Object(p.jsx)("div",{children:Object(p.jsxs)(de.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(p.jsx)(de.a.Toggle,{className:"responsive-navbar-nav","aria-controls":"responsive-navbar-nav"}),h,Object(p.jsxs)(de.a.Collapse,{id:"responsive-navbar-nav",children:[Object(p.jsx)(le.a,{className:"navbarLinks  mr-auto",children:Object.keys(d).length?b:Object.keys(n).length?u:null}),Object(p.jsx)(T.a,{inline:!0,children:Object(p.jsx)("span",{className:"mt-2 mt-md-0 mt-lg-0",children:Object.keys(n).length||Object.keys(d).length?Object(p.jsx)(C.a,{className:"btn btn-block",variant:"info",size:"",onClick:function(){f.auth().signOut(),localStorage.removeItem("loginUser"),window.location.reload(),console.log("LogOut")},children:"Logout"}):Object(p.jsx)(C.a,{className:"btn btn-block",variant:"info",size:"",onClick:function(){return e.push("/signup")},children:"Sign Up"})})})]})]})})}var ue=a(75),me=function(e){e.block;var t=e.component,a=e.redirectTo,c=e.isLogin,n=e.isAdmin,s=e.isUser,r=Object(ue.a)(e,["block","component","redirectTo","isLogin","isAdmin","isUser"]),i=JSON.parse(localStorage.getItem("loginUser"))?Object.keys(JSON.parse(localStorage.getItem("loginUser"))).length:null;return Object(p.jsx)(l.b,Object(w.a)(Object(w.a)({},r),{},{render:function(e){return n||s?Object(p.jsx)(l.a,{to:a}):(c?!i:i)?Object(p.jsx)(t,Object(w.a)({},e)):Object(p.jsx)(l.a,{to:a})}}))};function he(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){return f.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("loginUser",JSON.stringify(e)),"admin@gmail.com"===(null===e||void 0===e?void 0:e.email)&&n(e)):n({})})),function(){return console.log("something has removed")}}),[]),Object(p.jsxs)(o.a,{children:[Object(p.jsx)(be,{}),Object(p.jsxs)(l.d,{children:[Object(p.jsx)(me,{exact:!0,path:"/",component:F,redirectTo:Object.keys(a).length?"/adminDashboard":"/dashboard",isLogin:!0}),Object(p.jsx)(me,{exact:!0,path:"/Signup",component:G,redirectTo:Object.keys(a).length?"/adminDashboard":"/dashboard",isLogin:!0}),Object(p.jsx)(me,{exact:!0,path:"/forget",component:Y,redirectTo:Object.keys(a).length?"/adminDashboard":"/dashboard",isLogin:!0}),Object(p.jsx)(me,{exact:!0,path:"/allusers",component:ce,redirectTo:"/",isUser:!Object.keys(a).length}),Object(p.jsx)(me,{exact:!0,path:"/allbookings",component:re,redirectTo:"/",isUser:!Object.keys(a).length}),Object(p.jsx)(me,{exact:!0,path:"/adminDashboard",component:Z,redirectTo:"/",isUser:!Object.keys(a).length}),Object(p.jsx)(me,{exact:!0,path:"/viewlocations",component:oe,redirectTo:"/",isUser:!Object.keys(a).length}),Object(p.jsx)(me,{exact:!0,path:"/addlocations",component:ie,redirectTo:"/",isUser:!Object.keys(a).length}),Object(p.jsx)(me,{exact:!0,path:"/dashboard",component:V,redirectTo:"/",isAdmin:!!Object.keys(a).length}),Object(p.jsx)(me,{exact:!0,path:"/showbookings",component:X,redirectTo:"/",isAdmin:!!Object.keys(a).length}),Object(p.jsx)(me,{exact:!0,path:"/locations/:address/:totalSlots",component:q,redirectTo:"/",isAdmin:!!Object.keys(a).length}),Object(p.jsx)(me,{exact:!0,path:"/locations",component:g,redirectTo:"/",isAdmin:!!Object.keys(a).length})]}),Object(p.jsx)(ae.a,{})]})}a(109),a(110),a(111);var Oe=function(){var e=Object(c.useState)({show:!1}),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){f.auth().onAuthStateChanged((function(e){e&&f.database().ref("clients/").child(null===e||void 0===e?void 0:e.uid).on("value",(function(e){var t;!0===(null===(t=e.val())||void 0===t?void 0:t.block)?n({show:!0}):n({show:!1})}))}))}),[]),Object(p.jsxs)("div",{className:"App",children:[a.show&&Object(p.jsx)(te.a,{warning:!0,confirmBtnText:"Ok",confirmBtnBsStyle:"light",onConfirm:function(){f.auth().signOut().then((function(){return n({show:!1})})),localStorage.removeItem("loginUser"),window.location.reload()},children:Object(p.jsx)("b",{children:"You are Blocked!"})}),Object(p.jsx)(he,{})]})},xe=a(21),fe="remove",pe="add",ge={name:"Hassan",email:"hassan@gmail.com",currentUser:{}};var ve=a(53),Ne=a(72),ke={key:"root",storage:a.n(Ne).a},ye=Object(xe.c)({task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return console.log("add action:",t),Object(w.a)(Object(w.a)({},e),{},{currentUser:t.user});case fe:return console.log("remove action:",t),Object(w.a)(Object(w.a)({},e),{},{currentUser:t.user});default:return e}}}),we=Object(ve.a)(ke,ye),Se=a(73),Te=Object(xe.d)(Object(xe.a)(Se.a)),Ce=Object(xe.e)(we,{},Te),De=Object(ve.b)(Ce),Le=a(74);r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(E.a,{store:Ce,children:Object(p.jsx)(Le.a,{loading:null,persistor:De,children:Object(p.jsx)(Oe,{})})})}),document.getElementById("root"))},38:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},80:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.e9a84a45.chunk.js.map